default:
  image: python:3.12-bookworm
  before_script:
    - curl -sSL https://install.python-poetry.org | python3 - --git https://github.com/python-poetry/poetry.git@main
    - export PATH="$HOME/.local/bin:$PATH"
    - poetry install --no-root

stages:
  - lint
  - test

MyPy:
  stage: lint
  script:
    - poetry run mypy --config-file setup.cfg

Linter:
  stage: lint
  script:
    - poetry run flake8 --config setup.cfg

Tests:
  stage: test
  script:
    - pytest src/tests

